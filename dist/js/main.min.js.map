{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","document","ready","Masonry","Enquery","fixWidows","each","string","html","replace","$forms","length","bind","on","submit","e","preventDefault","data","serializeArray","reduce","obj","item","name","value","submitForm","form","from","copy","warnInvalid","unwarnInvalid","makeRequest","addClass","removeClass","console","log","requestData","action","nonce","ajax","url","WP","ajaxUrl","type","success","response","status","handleResponse","$container","instance","undefined","createInstance","itemSelector","transitionDuration","imagesLoaded","layout","find","index"],"mappings":"AAGAA,MACEC,gBAAiB,IACjBC,KAAM,WACJ,GAAIC,GAAQC,IAEZC,GAAEC,QAAQC,OAAO,WACfJ,EAAMK,aAGRH,EAAEI,UAAUC,MAAM,cAIlBV,KAAKW,QAAQT,OACbF,KAAKY,QAAQV,QAIfM,SAAU,aAKVK,UAAW,WAETR,EAAE,kBAAkBS,KAAK,WACvB,GAAIC,GAASV,EAAED,MAAMY,MACrBD,GAASA,EAAOE,QAAQ,YAAY,YACpCZ,EAAED,MAAMY,KAAKD,OAKnBf,KAAKY,SACHM,OAAQb,EAAE,iBACVH,KAAM,WACJ,GAAIC,GAAQC,IAERD,GAAMe,OAAOC,QACfhB,EAAMiB,QAKVA,KAAM,WACJ,GAAIjB,GAAQC,IAEZD,GAAMe,OAAOG,IACXC,OAAU,SAASC,GACjBA,EAAEC,gBAEF,IAAIC,GAAOpB,EAAED,MAAMsB,iBAAiBC,OAAO,SAASC,EAAKC,GAEvD,MADAD,GAAIC,EAAKC,MAAQD,EAAKE,MACfH,MAGTzB,GAAM6B,WAAW5B,KAAMqB,OAM7BO,WAAY,SAASC,EAAMR,GACzB,GAAItB,GAAQC,IAGM,MAAdqB,EAAKS,MAA6B,KAAdT,EAAKU,KAC3BhC,EAAMiC,YAAYH,IAElB9B,EAAMkC,cAAcJ,GACpB9B,EAAMmC,YAAYb,EAAMQ,KAK5BG,YAAa,SAASH,GACpB5B,EAAE4B,GAAMM,SAAS,YAGnBF,cAAe,SAASJ,GACtB5B,EAAE4B,GAAMO,YAAY,YAGtBF,YAAa,SAASb,EAAMQ,GAC1B,GAAI9B,GAAQC,IAEZqC,SAAQC,IAAIjB,EAEZ,IAAIkB,IACFC,OAAU,eACVC,MAASpB,EAAKoB,MACdpB,KAAQA,EAGVpB,GAAEyC,MACAC,IAAKC,GAAGC,QACRC,KAAM,OACNzB,KAAMkB,EACNQ,QAAS,SAASC,EAAUC,GAC1BlD,EAAMmD,eAAeF,EAAUC,EAAQpB,OAM7CqB,eAAgB,SAASF,EAAUC,EAAQpB,GAEnB,UAAlBmB,EAASF,KAKbT,QAAQC,IAAI,WAAYU,KAK5BpD,KAAKW,SACH4C,WAAYlD,EAAE,sBACdmD,SAAUC,OAEVvD,KAAM,WACJ,GAAIC,GAAQC,IAERD,GAAMoD,WAAWpC,QACnBhB,EAAMuD,kBAIVA,eAAgB,WACd,GAAIvD,GAAQC,IAEZD,GAAMqD,SAAW,GAAI7C,SAAQR,EAAMoD,WAAW,IAC5CI,aAAc,aACdC,mBAAoB,IAGtBzD,EAAMoD,WAAWM,aAAa,WAC5B1D,EAAMqD,SAASM,WAGjB3D,EAAMoD,WAAWQ,KAAK,OAAOjD,KAAK,SAASkD,EAAOnC,GAChDxB,EAAEwB,GAAMR,GAAG,OAAQ,WACjBlB,EAAMqD,SAASM,eAOvB9D,KAAKE","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, document, Site */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    $(document).ready(function () {\n\n    });\n\n    Site.Masonry.init();\n    Site.Enquery.init();\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.Enquery = {\n  $forms: $('.contact-form'),\n  init: function() {\n    var _this = this;\n\n    if (_this.$forms.length) {\n      _this.bind();\n    }\n\n  },\n\n  bind: function() {\n    var _this = this;\n\n    _this.$forms.on({\n      'submit': function(e) {\n        e.preventDefault();\n\n        var data = $(this).serializeArray().reduce(function(obj, item) {\n          obj[item.name] = item.value;\n          return obj;\n        }, {});\n\n        _this.submitForm(this, data);\n\n      }\n    })\n  },\n\n  submitForm: function(form, data) {\n    var _this = this;\n\n    // validate and notify\n    if (data.from === '' || data.copy === '') {\n      _this.warnInvalid(form);\n    } else {\n      _this.unwarnInvalid(form);\n      _this.makeRequest(data, form);\n\n    }\n  },\n\n  warnInvalid: function(form) {\n    $(form).addClass('invalid');\n  },\n\n  unwarnInvalid: function(form) {\n    $(form).removeClass('invalid');\n  },\n\n  makeRequest: function(data, form) {\n    var _this = this;\n\n    console.log(data);\n\n    var requestData = {\n      'action': 'send_enquiry',\n      'nonce': data.nonce,\n      'data': data\n    };\n\n    $.ajax({\n      url: WP.ajaxUrl,\n      type: 'post',\n      data: requestData,\n      success: function(response, status) {\n        _this.handleResponse(response, status, form);\n      }\n    });\n\n  },\n\n  handleResponse: function(response, status, form) {\n\n    if (response.type === 'error') {\n\n    } else {\n\n    }\n    console.log('response', response);\n\n  },\n};\n\nSite.Masonry = {\n  $container: $('#masonry-container'),\n  instance: undefined,\n\n  init: function() {\n    var _this = this;\n\n    if (_this.$container.length) {\n      _this.createInstance();\n    }\n  },\n\n  createInstance: function() {\n    var _this = this;\n\n    _this.instance = new Masonry(_this.$container[0], {\n      itemSelector: '.grid-item',\n      transitionDuration: 0,\n    });\n\n    _this.$container.imagesLoaded(function() {\n      _this.instance.layout();\n    });\n\n    _this.$container.find('img').each(function(index, item) {\n      $(item).on('load', function() {\n        _this.instance.layout();\n      });\n    });\n\n  }\n};\n\nSite.init();"]}